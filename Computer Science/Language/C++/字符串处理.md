
C++ åœ¨è¿™æ–¹é¢å¯¹ C è¯­è¨€è¿›è¡Œäº†é©å‘½æ€§çš„æ”¹è¿›ï¼Œæå¤§åœ°æé«˜äº†å¼€å‘æ•ˆç‡å’Œå®‰å…¨æ€§ã€‚

**C è¯­è¨€å­—ç¬¦ä¸²çš„åŸºç¡€ä¸ç—›ç‚¹ -> C++ `std::string` çš„é©å‘½ -> å¸¸ç”¨ä¾¿æ·åŠŸèƒ½ -> è¿›é˜¶ï¼ˆç°ä»£ C++ ç‰¹æ€§ï¼‰** 

---

#### å¸¸ç”¨API

è¿™é‡Œä¸»è¦æ¶µç›– `<string>` å¤´æ–‡ä»¶ä¸­çš„ `std::string` ç±»çš„æ–¹æ³•ï¼Œä»¥åŠ `<string>` ä¸­çš„å…¨å±€è½¬æ¢å‡½æ•°ã€‚

### 1. å®¹é‡ä¸å±æ€§æŸ¥è¯¢ (Capacity & Properties)
è¿™äº›å‡½æ•°ç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²çš„çŠ¶æ€ï¼Œä¸ä¿®æ”¹å†…å®¹ï¼Œé€šå¸¸æ˜¯ O(1) å¤æ‚åº¦ã€‚

| å‡½æ•°å | æè¿° | C è¯­è¨€å¯¹åº” | ä»£ç ç¤ºä¾‹ |
| :--- | :--- | :--- | :--- |
| **`size()`** <br> **`length()`** | è¿”å›å­—ç¬¦ä¸²å­—ç¬¦ä¸ªæ•°ï¼ˆä¸å« `\0`ï¼‰ã€‚ä¸¤è€…å®Œå…¨ç­‰ä»·ã€‚ | `strlen(s)` | `string s = "Hello";`<br>`cout << s.size(); // è¾“å‡º 5` |
| **`empty()`** | åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€‚**æ¨èä½¿ç”¨**ï¼Œæ¯” `size()==0` æ›´ç›´è§‚é«˜æ•ˆã€‚ | éœ€åˆ¤æ–­ `s[0] == '\0'` | `if (s.empty()) { ... }` |
| **`clear()`** | æ¸…ç©ºå­—ç¬¦ä¸²å†…å®¹ï¼Œå˜æˆç©ºä¸²ï¼Œä½†å¯èƒ½ä¿ç•™å†…å­˜å®¹é‡ã€‚ | `s[0] = '\0'` | `s.clear(); // s å˜ä¸º ""` |
| **`reserve(n)`** | **è¿›é˜¶**ï¼šé¢„åˆ†é…è‡³å°‘èƒ½å®¹çº³ n ä¸ªå­—ç¬¦çš„å†…å­˜ã€‚ç”¨äºé¿å…é¢‘ç¹æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚ | `malloc` åˆ†é…å¤§å— | `s.reserve(1000);`<br>`// ä¹‹åè¿½åŠ 1000ä¸ªå­—ç¬¦ä¸ä¼šè§¦å‘é‡æ–°åˆ†é…` |

---

### 2. å…ƒç´ è®¿é—® (Element Access)
ç”¨äºè·å–ç‰¹å®šä½ç½®çš„å­—ç¬¦ã€‚

| å‡½æ•°å | æè¿° | å®‰å…¨æ€§ | ä»£ç ç¤ºä¾‹ |
| :--- | :--- | :--- | :--- |
| **`operator[]`** | åƒæ•°ç»„ä¸€æ ·è®¿é—®ã€‚**ä¸æ£€æŸ¥è¶Šç•Œ**ï¼ˆå¿«ï¼Œä½†å±é™©ï¼‰ã€‚ | âŒ ä½ | `char c = s[1]; // 'e'` |
| **`at(idx)`** | è®¿é—®æŒ‡å®šç´¢å¼•ã€‚**æ£€æŸ¥è¶Šç•Œ**ï¼Œè‹¥è¶Šç•ŒæŠ›å‡º `out_of_range` å¼‚å¸¸ã€‚ | âœ… é«˜ | `try { s.at(100); }`<br>`catch(...) { /* æ•è·å¼‚å¸¸ */ }` |
| **`front()`** | è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ | - | `char start = s.front();` |
| **`back()`** | è·å–æœ€åä¸€ä¸ªå­—ç¬¦ã€‚ | - | `char end = s.back();` |

---

### 3. ä¿®æ”¹ä¸æ‹¼æ¥ (Modification)
å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œå¢åˆ æ”¹ã€‚

| å‡½æ•°å                                  | æè¿°                                      | ä»£ç ç¤ºä¾‹                                                                                    |
| :----------------------------------- | :-------------------------------------- | :-------------------------------------------------------------------------------------- |
| **`operator+=`** <br> **`append()`** | åœ¨æœ«å°¾è¿½åŠ å­—ç¬¦ä¸²æˆ–å­—ç¬¦ã€‚                            | `string s = "Hi";`<br>`s += " There"; // "Hi There"`<br>`s.append("!"); // "Hi There!"` |
| **`push_back()`**                    | åœ¨æœ«å°¾è¿½åŠ **ä¸€ä¸ªå­—ç¬¦**ã€‚                          | `s.push_back('A');`                                                                     |
| **`pop_back()`**                     | åˆ é™¤æœ«å°¾**ä¸€ä¸ªå­—ç¬¦**ã€‚                           | `s.pop_back();`                                                                         |
| **`insert(pos, str)`**               | åœ¨ `pos` ç´¢å¼•ä½ç½®æ’å…¥å­—ç¬¦ä¸² `str`ã€‚                | `string s = "AB";`<br>`s.insert(1, "123"); // "A123B"`                                  |
| **`erase(pos, len)`**                | ä» `pos` å¼€å§‹åˆ é™¤ `len` ä¸ªå­—ç¬¦ã€‚è‹¥çœç•¥ `len` åˆ™åˆ åˆ°æœ«å°¾ã€‚ | `string s = "Hello World";`<br>`s.erase(5, 6); // "Hello"`                              |
| **`replace(pos, len, str)`**         | æ›¿æ¢ä» `pos` å¼€å§‹çš„ `len` ä¸ªå­—ç¬¦ä¸º `str`ã€‚         | `string s = "Hi Mike";`<br>`s.replace(3, 4, "Tom"); // "Hi Tom"`                        |

---

### 4. æŸ¥æ‰¾ä¸å­ä¸² (Search & Substring)
è¿™æ˜¯ C++ æ¯” C æ–¹ä¾¿å¤ªå¤šçš„åœ°æ–¹ã€‚

| å‡½æ•°å | æè¿° | æ ¸å¿ƒæ˜“é”™ç‚¹ (âš ï¸) | ä»£ç ç¤ºä¾‹ |
| :--- | :--- | :--- | :--- |
| **`find(str)`** | æŸ¥æ‰¾å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆç´¢å¼•ï¼‰ã€‚ | æ²¡æ‰¾åˆ°è¿”å› **`string::npos`** (ä¸æ˜¯ -1) | `size_t pos = s.find("lo");`<br>`if (pos != string::npos) ...` |
| **`rfind(str)`** | **åå‘**æŸ¥æ‰¾ï¼ˆFind Lastï¼‰ï¼Œæ‰¾æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ | åŒä¸Š | `string s = "test.cpp";`<br>`size_t p = s.rfind("."); // 4` |
| **`substr(pos, len)`** | è·å–å­ä¸²ã€‚ä» `pos` å¼€å§‹å– `len` ä¸ªã€‚ | è‹¥çœç•¥ `len`ï¼Œå–åˆ°æœ«å°¾ | `string s = "2023-10-01";`<br>`string year = s.substr(0, 4); // "2023"` |

---

### 5. è½¬æ¢å‡½æ•° (Conversion)
C++11 å¼•å…¥çš„å…¨å±€å‡½æ•°ï¼ˆéæˆå‘˜å‡½æ•°ï¼‰ï¼Œç”¨äºæ•°å€¼å’Œå­—ç¬¦ä¸²äº’è½¬ã€‚

| å‡½æ•°å | æè¿° | ä»£ç ç¤ºä¾‹ |
| :--- | :--- | :--- |
| **`to_string(val)`** | å°†æ•°å€¼ï¼ˆint, float ç­‰ï¼‰è½¬ä¸º stringã€‚ | `string s = to_string(3.14); // "3.140000"` |
| **`stoi(s)`** | String to Integer (è½¬ int)ã€‚ | `int i = stoi("123");` |
| **`stod(s)`** | String to Double (è½¬ double)ã€‚ | `double d = stod("3.14");` |
| **`stof(s)`** | String to Float (è½¬ float)ã€‚ | `float f = stof("3.14");` |
| **`c_str()`** | **æˆå‘˜å‡½æ•°**ã€‚è·å– C é£æ ¼æŒ‡é’ˆ (`const char*`)ã€‚ | `const char* p = s.c_str();`<br>`printf("%s", s.c_str());` |

---

### ğŸ’¡ ç»¼åˆå®æˆ˜æ¼”ç¤º

ä¸‹é¢æ˜¯ä¸€ä¸ªç»¼åˆä¾‹å­ï¼Œæ¨¡æ‹Ÿè§£æä¸€ä¸ªæ–‡ä»¶åå­—ç¬¦ä¸²ï¼š`"image_001.jpg"`ï¼Œæˆ‘ä»¬éœ€è¦æå–æ–‡ä»¶åå’Œæ‰©å±•åï¼Œå¹¶æŠŠåºå·è½¬ä¸ºæ•´æ•°åŠ  1ã€‚

```cpp
#include <iostream>
#include <string>
#include <vector>

using namespace std;

int main() {
    string filename = "image_001.jpg";

    // 1. æŸ¥æ‰¾åˆ†éš”ç¬¦ '.' çš„ä½ç½®
    size_t dotPos = filename.rfind('.');

    if (dotPos == string::npos) {
        cout << "Error: No extension found." << endl;
        return 1;
    }

    // 2. æå–å­ä¸²
    // æå–åå­— "image_001"
    string name = filename.substr(0, dotPos); 
    // æå–åç¼€ ".jpg" (ä» dotPos å¼€å§‹ä¸€ç›´åˆ°ç»“æŸ)
    string ext = filename.substr(dotPos);     

    cout << "Name part: " << name << endl;
    cout << "Extension: " << ext << endl;

    // 3. æŸ¥æ‰¾ä¸‹åˆ’çº¿ï¼Œæå–æ•°å­—éƒ¨åˆ†
    size_t underScorePos = name.find('_');
    if (underScorePos != string::npos) {
        // æå– "001"
        string numStr = name.substr(underScorePos + 1);
        
        // 4. ç±»å‹è½¬æ¢ï¼šå­—ç¬¦ä¸² -> æ•´æ•°
        int id = stoi(numStr);
        cout << "Current ID: " << id << endl;

        // 5. ä¿®æ”¹ ID å¹¶é‡æ–°ç»„åˆ
        id++; // å˜æˆ 2
        
        // ç±»å‹è½¬æ¢ï¼šæ•´æ•° -> å­—ç¬¦ä¸²
        string newName = "image_" + to_string(id) + ext;
        cout << "Next File:  " << newName << endl;
    }

    return 0;
}
```

**è¿è¡Œç»“æœï¼š**
```text
Name part: image_001
Extension: .jpg
Current ID: 1
Next File:  image_2.jpg
```



#### 1.1 åŸºç¡€å®šä¹‰
åœ¨ C è¯­è¨€ä¸­ï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„â€œå­—ç¬¦ä¸²â€ç±»å‹ã€‚å­—ç¬¦ä¸²çš„æœ¬è´¨æ˜¯ï¼š**ä»¥ç©ºå­—ç¬¦ `\0` ç»“å°¾çš„å­—ç¬¦æ•°ç»„**ã€‚

```c
// æ–¹å¼ 1ï¼šæ•°ç»„
char str1[6] = "Hello"; // âš ï¸ æ³¨æ„ï¼šé•¿åº¦æ˜¯ 6ï¼Œå› ä¸ºè¦å­˜ '\0'

// æ–¹å¼ 2ï¼šæŒ‡é’ˆï¼ˆæŒ‡å‘å¸¸é‡åŒºï¼‰
const char* str2 = "World"; 
```

#### 1.2 æ ¸å¿ƒç—›ç‚¹ä¸æ˜“é”™ç‚¹ (âš ï¸ é«˜èƒ½é¢„è­¦)

1.  **å¿…é¡»æ‰‹åŠ¨ç®¡ç†ç»“æŸç¬¦ `\0`**
    *   C è¯­è¨€é€šè¿‡ `\0` åˆ¤æ–­å­—ç¬¦ä¸²å“ªé‡Œç»“æŸã€‚å¦‚æœå¼„ä¸¢äº†å®ƒï¼Œç¨‹åºä¼šä¸€ç›´å¾€åè¯»å†…å­˜ï¼Œç›´åˆ°å´©æºƒæˆ–è¯»åˆ°ä¹±ç ã€‚
    ```c
    char str[5] = "Hello"; // âŒ é”™è¯¯ï¼"Hello" æœ‰ 5 ä¸ªå­—æ¯ï¼ŒåŠ ä¸Š '\0' éœ€è¦ 6 ä¸ªç©ºé—´ã€‚
                           // è¿™ä¼šå¯¼è‡´ç¼“å†²åŒºæº¢å‡º (Buffer Overflow)ã€‚
    ```

2.  **ä¸ä»…æ˜¯å˜é‡ï¼Œæ›´æ˜¯å†…å­˜åœ°å€**
    *   C è¯­è¨€ä¸­å­—ç¬¦ä¸²å˜é‡åï¼ˆæ•°ç»„åï¼‰æœ¬è´¨æ˜¯æŒ‡é’ˆã€‚
    ```c
    char s1[] = "abc";
    char s2[] = "abc";
    if (s1 == s2) { ... } // âŒ é”™è¯¯ï¼è¿™æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªæ•°ç»„çš„å†…å­˜åœ°å€ï¼Œæ°¸è¿œä¸º falseã€‚
    ```

3.  **æå…¶ç¹ççš„æ“ä½œ (`<string.h>`)**
    ```c
    // C è¯­è¨€çš„åšæ³•,èµ‹å€¼ä¸èƒ½=,æ‹¼æ¥ä¸èƒ½+ï¼Œæ¯”è¾ƒä¸èƒ½==
    char dest[20];
    strcpy(dest, "Hello"); // å¤åˆ¶
    strcat(dest, " World"); // æ‹¼æ¥
    if (strcmp(dest, "Hello World") == 0) { ... } // æ¯”è¾ƒ
    ```

---

### ç¬¬äºŒéƒ¨åˆ†ï¼šC++ çš„é©å‘½ â€”â€” `std::string`

C++ æ ‡å‡†åº“å¼•å…¥äº† `std::string` ç±»ï¼ˆä½äº `<string>` å¤´æ–‡ä»¶ä¸­ï¼‰ã€‚å®ƒæ˜¯ä¸€ä¸ª**åŠ¨æ€ç®¡ç†å†…å­˜çš„å®¹å™¨**ï¼ŒæŠŠä¸Šè¿° C è¯­è¨€çš„ç—›ç‚¹å…¨éƒ¨å°è£…èµ·æ¥äº†ã€‚

#### 2.1 åŸºç¡€å®šä¹‰ä¸ç›´è§‚å¯¹æ¯”

| æ“ä½œ      | C è¯­è¨€ (`char*`)             | C++ (`std::string`)                     |
| :------ | :------------------------- | :-------------------------------------- |
| **å¤´æ–‡ä»¶** | `<string.h>` æˆ– `<cstring>` | `<string>`                              |
| **å®šä¹‰**  | `char s[100];` (éœ€é¢„ä¼°å¤§å°)     | `string s;` (è‡ªåŠ¨æ‰©å®¹)                      |
| **èµ‹å€¼**  | `strcpy(s, "hello");`      | `s = "hello";`                          |
| **æ‹¼æ¥**  | `strcat(s, " world");`     | `s += " world";` æˆ– `s = s1 + s2;`       |
| **æ¯”è¾ƒ**  | `strcmp(s1, s2) == 0`      | `s1 == s2`                              |
| **é•¿åº¦**  | `strlen(s)` (O(n)å¤æ‚åº¦)      | `s.length()` æˆ– `s.size()` (**O(1)å¤æ‚åº¦**) |

#### 2.2 å†…å­˜ç®¡ç†çš„è‡ªåŠ¨åŒ– (RAII)
ä½ ä¸éœ€è¦å…³å¿ƒç”³è¯·å¤šå°‘å†…å­˜ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒç¼“å†²åŒºæº¢å‡ºã€‚
```cpp
#include <string>
using namespace std;

string s = "Hello";
s += " World"; // s è‡ªåŠ¨æ‰©å®¹ï¼Œä¸ç”¨æ‹…å¿ƒæº¢å‡º
// ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œs è‡ªåŠ¨é‡Šæ”¾å†…å­˜ï¼Œä¸ä¼šå†…å­˜æ³„æ¼
```

---

### ç¬¬ä¸‰éƒ¨åˆ†ï¼šC++ `std::string` çš„å¸¸ç”¨ä¾¿æ·å‡½æ•°

è¿™æ˜¯ C++ å¼ºå¤§çš„åœ°æ–¹ï¼Œæä¾›äº†ä¸°å¯Œçš„æ–¹æ³•æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚

#### 3.1 è·å–ä¿¡æ¯
*   **`.size()` / `.length()`**: è·å–é•¿åº¦ã€‚
*   **`.empty()`**: åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼ˆæ¯” `size() == 0` æ›´ç›´è§‚ï¼‰ã€‚

#### 3.2 è®¿é—®ä¸ä¿®æ”¹
*   **ä¸‹æ ‡è®¿é—® `[]`**: åƒæ•°ç»„ä¸€æ ·è®¿é—®ï¼Œ`s[0]`ã€‚
*   **`.at(index)`**: å®‰å…¨è®¿é—®ã€‚å¦‚æœè¶Šç•Œï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆ`[]` è¶Šç•Œä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼‰ã€‚
*   **`.push_back(char)`**: åœ¨æœ«å°¾åŠ ä¸€ä¸ªå­—ç¬¦ã€‚
*   **`.append(str)`**: åœ¨æœ«å°¾åŠ å­—ç¬¦ä¸²ï¼ˆç­‰åŒäº `+=`ï¼‰ã€‚

#### 3.3 æŸ¥æ‰¾ (Search) â€”â€” âš ï¸ é‡ç‚¹æ¦‚å¿µ `npos`
*   **`.find(str)`**: æŸ¥æ‰¾å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚
*   **`.rfind(str)`**: åå‘æŸ¥æ‰¾ï¼ˆæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼‰ã€‚

**æ˜“é”™ç‚¹ï¼š** å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›çš„ä¸æ˜¯ -1ï¼Œè€Œæ˜¯ `std::string::npos`ï¼ˆè¿™æ˜¯ä¸€ä¸ªç‰¹å¤§çš„æ— ç¬¦å·æ•´æ•°ï¼‰ã€‚
```cpp
string s = "C++ is cool";
size_t pos = s.find("is");//size_t æ˜¯è‡ªå®šä¹‰æ— ç¬¦å·æ•´æ•°ç±»å‹åˆ«å(typedef)ï¼Œç”¨äºè¡¨ç¤ºå¯¹è±¡çš„å¤§å°æˆ–ç´¢å¼•ã€‚
if (pos != -1) { // âŒ é”™è¯¯ï¼find æ‰¾ä¸åˆ°ä¼šè¿”å› nposï¼Œä¸æ˜¯ -1
    cout << "Found at: " << pos << endl;
}

if (pos != string::npos) { // âœ… æ­£ç¡®çš„åˆ¤æ–­æ–¹å¼
    cout << "Found at: " << pos << endl;
}
```

#### 3.4 å­ä¸²æå– (Substring)
**`.substr(pos, len)`**: ä» `pos` å¼€å§‹ï¼Œæå– `len` é•¿åº¦çš„å­ä¸²ã€‚
    *   *æ³¨ï¼šç¬¬äºŒä¸ªå‚æ•°å¦‚æœçœç•¥ï¼Œé»˜è®¤æå–åˆ°æœ«å°¾ã€‚*
```cpp
string s = "Hello World";
string sub = s.substr(6, 5); // "World"
```

#### 3.5 æ’å…¥ä¸åˆ é™¤
*   **`.insert(pos, str)`**: åœ¨æŒ‡å®šä½ç½®æ’å…¥ã€‚
*   **`.erase(pos, len)`**: åˆ é™¤ä» `pos` å¼€å§‹çš„ `len` ä¸ªå­—ç¬¦ã€‚
*   **`.replace(pos, len, str)`**: æ›¿æ¢æŒ‡å®šéƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚

---

### ç¬¬å››éƒ¨åˆ†ï¼šC ä¸ C++ çš„æ¡¥æ¢ä¸æ•°å€¼è½¬æ¢

åœ¨å®é™…å¼€å‘ä¸­ï¼Œä½ ç»å¸¸éœ€è¦æ··ç”¨ C å’Œ C++ é£æ ¼ï¼ˆä¾‹å¦‚è°ƒç”¨è€æ—§çš„ç³»ç»Ÿ APIï¼‰ã€‚

#### 4.1 C++ è½¬ C (`.c_str()`) â€”â€” âš ï¸ æ ¸å¿ƒæ˜“é”™ç‚¹
å½“ä¸€ä¸ªå‡½æ•°éœ€è¦ `const char*` å‚æ•°æ—¶ï¼ˆå¦‚ `printf` æˆ–æ–‡ä»¶æ“ä½œ `fopen`ï¼‰ï¼Œä½ éœ€è¦å°† string è½¬æ¢ä¸º C é£æ ¼ã€‚

```cpp
string filename = "data.txt";
// FILE* fp = fopen(filename, "r"); // âŒ é”™è¯¯ï¼Œfopen è¦ char*ï¼Œä¸è®¤ string
FILE* fp = fopen(filename.c_str(), "r"); // âœ… æ­£ç¡®
```
*   **æ³¨æ„**ï¼š`.c_str()` è¿”å›çš„æŒ‡é’ˆç”Ÿå‘½å‘¨æœŸç”± string ç®¡ç†ã€‚å¦‚æœ string è¢«é”€æ¯æˆ–ä¿®æ”¹ï¼Œé‚£ä¸ªæŒ‡é’ˆå°±å¤±æ•ˆäº†ã€‚**åƒä¸‡ä¸è¦ä¿å­˜ `.c_str()` è¿”å›çš„æŒ‡é’ˆä¾›åç»­é•¿æœŸä½¿ç”¨ï¼**

#### 4.2 æ•°å€¼ä¸å­—ç¬¦ä¸²äº’è½¬ (ç°ä»£ C++ ç¥å™¨)
åœ¨ C è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬ç”¨ `atoi`, `sprintf`ï¼Œæ—¢ä¸å®‰å…¨åˆéº»çƒ¦ã€‚C++11 æä¾›äº†å…¨å±€å‡½æ•°ï¼š

*   **æ•°å€¼è½¬å­—ç¬¦ä¸²**: `std::to_string(number)`
    ```cpp
    int a = 123;
    string s = to_string(a); // "123"
    ```
*   **å­—ç¬¦ä¸²è½¬æ•°å€¼**: `std::stoi` (int), `std::stod` (double), etc.
    ```cpp
    string s = "456";
    int b = stoi(s); // 456
    ```

---

### ç¬¬äº”éƒ¨åˆ†ï¼šä¸€æ­¥æ·±åŒ– â€”â€” ç°ä»£ C++ çš„æ€§èƒ½ä¼˜åŒ– (`string_view`)

åˆ°äº† C++17ï¼Œä¸ºäº†è§£å†³ `std::string` çš„æ€§èƒ½é—®é¢˜ï¼ˆä¸»è¦æ˜¯é¢‘ç¹çš„å†…å­˜æ‹·è´ï¼‰ï¼Œå¼•å…¥äº† `std::string_view`ã€‚

#### åœºæ™¯ï¼š
å½“ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œåªæ˜¯ä¸ºäº†â€œçœ‹â€ä¸€ä¸‹å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚æŸ¥æ‰¾ã€æ‰“å°ï¼‰ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹å®ƒï¼Œä¹Ÿä¸æƒ³æ‹¥æœ‰å®ƒã€‚

*   **C è¯­è¨€åšæ³•**ï¼šä¼  `char*` å’Œé•¿åº¦ã€‚
*   **C++ æ—§åšæ³•**ï¼šä¼  `const string&`ï¼ˆé¿å…æ‹·è´ï¼Œä½†å¿…é¡»å¾—æœ‰ä¸ª string å¯¹è±¡ï¼‰ã€‚
*   **C++17 åšæ³•**ï¼šä¼  `string_view`ã€‚

`std::string_view` æ˜¯ä¸€ä¸ª**è½»é‡çº§çš„â€œçª—å£â€**ï¼Œå®ƒåªåŒ…å«ï¼šä¸€ä¸ªæŒ‡é’ˆ + ä¸€ä¸ªé•¿åº¦ã€‚å®ƒ**ä¸åˆ†é…å†…å­˜**ï¼Œåªæ˜¯æŒ‡ç€ç°æœ‰çš„å­—ç¬¦ä¸²è¯´ï¼šâ€œçœ‹è¿™é‡Œâ€ã€‚

```cpp
#include <iostream>
#include <string_view> // C++17

// ä»¥å‰çš„å†™æ³•ï¼šå¦‚æœä¼  "Hello" è¿™ç§å­—é¢é‡ï¼Œä¼šäº§ç”Ÿä¸´æ—¶ string å¯¹è±¡ï¼Œæœ‰å¼€é”€
// void printPrefix(const std::string& str) { ... }

// ç°åœ¨çš„å†™æ³•ï¼šé›¶æ‹·è´ï¼Œæ— è®ºä¼  char* è¿˜æ˜¯ string éƒ½èƒ½é«˜æ•ˆå¤„ç†
void printPrefix(std::string_view sv) {
    // sv å°±åƒ string ä¸€æ ·ç”¨ï¼Œä½†å®ƒæ˜¯åªè¯»çš„
    cout << sv.substr(0, 3) << endl; 
}

int main() {
    printPrefix("Hello World"); // é«˜æ•ˆï¼Œæ— å†…å­˜åˆ†é…
    std::string s = "C++ Language";
    printPrefix(s);             // é«˜æ•ˆï¼Œæ— å†…å­˜åˆ†é…
}
```

---

### âš¡ ç»ˆææ€»ç»“é€ŸæŸ¥

1.  **é¦–é€‰ `std::string`**ï¼šé™¤éè¢«è¿«è°ƒç”¨ C æ¥å£ï¼Œå¦åˆ™ä¸è¦ç”¨ `char*`ã€‚
2.  **åˆ¤ç©º**ï¼šç”¨ `.empty()`è€Œä¸æ˜¯ `.size() == 0`ã€‚
3.  **æ¯”è¾ƒ**ï¼šç›´æ¥ç”¨ `==`, `!=`, `<`, `>`ã€‚
4.  **æŸ¥æ‰¾å¤±è´¥**ï¼šåˆ¤æ–­æ˜¯å¦ç­‰äº `string::npos`ã€‚
5.  **C æ¥å£å…¼å®¹**ï¼šä½¿ç”¨ `.c_str()`ï¼Œä½†ä¸è¦ä¿å­˜è¿”å›çš„æŒ‡é’ˆã€‚
6.  **æ•°å€¼è½¬æ¢**ï¼šä½¿ç”¨ `to_string` å’Œ `stoi` ç³»åˆ—ã€‚
7.  **åªè¯»ä¼ å‚ (è¿›é˜¶)**ï¼šC++17 åï¼Œä¼˜å…ˆè€ƒè™‘ `std::string_view` æ›¿ä»£ `const std::string&`ã€‚